<div class="modal-header">
  <button type="button" class="close" ng-click="$dismiss()">
    <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
  </button>
  <h3 class="modal-title">Grupo Familiar</h3>
</div>
<div class="modal-body centered">
  <div class="panel panel-default">
    <div class="panel-heading">{{trabajador.nombreCompleto}}</div>
    <div class="panel-body">          

      <div class="container col-sm-12" style="margin: 40px;">
        <div class="row" ng-if="accesos.crear && accesos.abierto || accesos.editar && accesos.abierto">
          <a ng-click="autorizar(false)" href="" class="btn btn-primary btn-xs pull-right" ng-if="!trabajador.esAutorizadas && trabajador.cargas.length>0 && trabajador.esCargas"><i class="fa fa-check-square"></i> Autorizar Cargas</a>
          <a ng-click="autorizar(true)" href="" class="btn btn-primary btn-xs pull-right" ng-if="trabajador.esAutorizadas"><i class="fa fa-pencil-square-o"></i> Modificar Cargas Autorizadas</a>
        </div>

        <div class="container text-center" ng-if="trabajador.cargas.length<=0">
          <i>Aun no hay registros</i>
        </div>

        <table class="table table-striped table-hover" ng-if="trabajador.cargas.length>0">
          <thead>
            <tr>
              <th class="col-sm-2">RUT</th>
              <th class="col-sm-2">Nombre</th>
              <th class="col-sm-1">Parentesco</th>
              <th class="col-sm-2">Fecha de Nacimiento</th>
              <th class="col-sm-1">Carga</th>
              <th class="col-sm-1">Autorizada</th>
              <th class="col-sm-1"></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="dato in trabajador.cargas">
              <td>{{ dato.rutFormato }}</td>
              <td>{{ dato.nombreCompleto }}</td>
              <td>{{ dato.parentesco }}</td>
              <td>{{ dato.fechaNacimiento | date : "dd-MM-y" }}</td>
              <td>
                <i class="fa fa-check" ng-show="dato.esCarga" style="color: #0a0;"></i><i class="fa fa-times" ng-hide="dato.esCarga" style="color: #ff3300;"></i>
              </td>
              <td>
                <i class="fa fa-check" ng-show="dato.esAutorizada" style="color: #0a0;"></i><i class="fa fa-times" ng-hide="dato.esAutorizada" style="color: #ff3300;"></i>
              </td>
              <td>
                <a href="javascript:void(0);" ng-if="accesos.editar && accesos.abierto" ng-click="editar(dato, trabajador.sid)"><i class="fa fa-pencil"></i></a>
                <a href="javascript:void(0);" ng-if="accesos.eliminar && accesos.abierto" confirmation-click="eliminar(dato, trabajador.sid)" confirmation-needed="El Familiar seleccionado será eliminado del sistema. ¿Desea continuar?"><i class="fa fa-trash"></i></a>
              </td>
            </tr>
          </tbody>
        </table>

      </div>        
    </div>
  </div>
  <div class="modal-footer">
    <div class="pull-right" style="padding: 6px;">
      <button class="btn btn-warning" type="button" ng-click="$dismiss()">Cerrar</button>
    </div>
  </div>
</div>
