<div class="box">
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2">
      <h2><i class="fa fa-area-chart"></i> Ingreso de Descuentos</h2>
      <div class="col-sm-12" ng-if="cargado">
        <a ng-click="reporteTrabajadores()" ng-if="accesos.ver" href="" class="btn btn-primary btn-xs pull-right"><i class="fa fa-user"></i> Reporte Trabajador</a>
      </div>
      <div class="col-sm-12" ng-if="accesos.crear && accesos.abierto && cargado">
        <a target="_self" id="descargarPlanillaDescuentos" download="planilla-descuentos" href="{{ constantes.URL }}trabajadores/planilla/descargar-excel/descuentos" class="btn btn-primary btn-xs pull-right"><i class="fa fa-download"></i> Descargar planilla</a>
      </div>  
      
      
      <ul class="nav nav-tabs form-tabs" ng-if="cargado" style="margin-bottom: 40px; margin-top: 40px;">
        <li class="active"><a data-toggle="tab" ng-click="openTab('descuentos')">Mis Descuentos</a></li>
        <li class=""> <a data-toggle="tab" ng-click="openTab('afp')">Descuentos AFP</a></li>
        <li class=""> <a data-toggle="tab" ng-click="openTab('ccaf')">Descuentos CCAF</a></li>
      </ul>

      <div class="row" ng-if="tabDescuentos">
  
        <div class="container text-center" ng-if="datos.length<=0 && cargado" style="margin-top: 40px;" >
          <i>No se existen descuentos</i>
        </div>

        <table class="table table-striped table-hover" ng-if="datos.length>0 && cargado">
          <thead>
            <tr>
              <th class="col-sm-3">Código</th>
              <th class="col-sm-4">Nombre</th>
              <th class="col-sm-3"></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat='dato in datos'>
              <td>#{{ dato.codigo }}</td>
              <td>{{ dato.nombre }}</td>
              <td>
                <div class="btn-group">
                  <button class="btn btn-primary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">Ingresar <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-sm" role="menu">
                    <li ng-if="accesos.crear && accesos.abierto">
                      <a href="javascript:void(0);" ng-click="openIngresoDescuento( dato );"><span class="fa fa-user" aria-hidden="true"></span> Individual</a>
                    </li>
                    <li ng-if="accesos.crear && accesos.abierto">
                      <a href="javascript:void(0);" ng-click="ingresoSeccion( dato );"><span class="fa fa-users" aria-hidden="true"></span> Masivo (por sección)</a>
                    </li>
                    <li ng-if="accesos.crear && accesos.abierto">
                      <a href="javascript:void(0);" ng-click="importarPlanilla(dato);"><span class="fa fa-upload" aria-hidden="true"></span> Masivo (planilla.xls)</a>
                    </li>
                    <li role="separator" class="divider" ng-if="accesos.crear && accesos.abierto"></li>
                    <li>
                      <a href="javascript:void(0);" ng-click="reporte( dato );"><span class="fa fa-archive" aria-hidden="true"></span> Reporte</a>
                    </li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        
      </div>

      <div class="row" ng-if="tabAfp">
  
        <div class="container text-center" ng-if="datosAfp.length<=0 && cargado" style="margin-top: 40px;" >
          <i>No se existen descuentos</i>
        </div>

        <table class="table table-striped table-hover" ng-if="datosAfp.length>0 && cargado">
          <thead>
            <tr>
              <th class="col-sm-3">Código</th>
              <th class="col-sm-4">Nombre</th>
              <th class="col-sm-3"></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat='dato in datosAfp'>
              <td>#{{ dato.codigo }}</td>
              <td>{{ dato.nombre }}</td>
              <td>
                <div class="btn-group">
                  <button class="btn btn-primary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">Ingresar <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-sm" role="menu">
                    <li>
                      <a href="javascript:void(0);" ng-if="accesos.crear && accesos.abierto" ng-click="openIngresoDescuento( dato );"><span class="fa fa-user" aria-hidden="true"></span> Individual</a>
                    </li>
                    <li>
                      <a href="javascript:void(0);" ng-if="accesos.crear && accesos.abierto" ng-click="ingresoSeccion( dato );"><span class="fa fa-users" aria-hidden="true"></span> Masivo (por sección)</a>
                    </li>
                    <li>
                      <a href="javascript:void(0);" ng-if="accesos.crear && accesos.abierto" ng-click="importarPlanilla(dato);"><span class="fa fa-upload" aria-hidden="true"></span> Masivo (planilla.xls)</a>
                    </li>
                    <li role="separator" class="divider" ng-if="accesos.crear && accesos.abierto"></li>
                    <li>
                      <a href="javascript:void(0);" ng-click="reporte( dato );"><span class="fa fa-archive" aria-hidden="true"></span> Reporte</a>
                    </li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        
      </div>

      <div class="row" ng-if="tabCCAF">
  
        <div class="container text-center" ng-if="datosCCAF.length<=0 && cargado" style="margin-top: 40px;" >
          <i>No se existen descuentos</i>
        </div>

        <table class="table table-striped table-hover" ng-if="datosCCAF.length>0 && cargado">
          <thead>
            <tr>
              <th class="col-sm-3">Código</th>
              <th class="col-sm-4">Nombre</th>
              <th class="col-sm-3"></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat='dato in datosCCAF'>
              <td>#{{ dato.codigo }}</td>
              <td>{{ dato.nombre }}</td>
              <td>
                <div class="btn-group">
                  <button class="btn btn-primary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">Ingresar <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-sm" role="menu">
                    <li>
                      <a href="javascript:void(0);" ng-if="accesos.crear && accesos.abierto" ng-click="openIngresoDescuento( dato );"><span class="fa fa-user" aria-hidden="true"></span> Individual</a>
                    </li>
                    <li>
                      <a href="javascript:void(0);" ng-if="accesos.crear && accesos.abierto" ng-click="ingresoSeccion( dato );"><span class="fa fa-users" aria-hidden="true"></span> Masivo (por sección)</a>
                    </li>
                    <li>
                      <a href="javascript:void(0);" ng-if="accesos.crear && accesos.abierto" ng-click="importarPlanilla(dato);"><span class="fa fa-upload" aria-hidden="true"></span> Masivo (planilla.xls)</a>
                    </li>
                    <li role="separator" class="divider" ng-if="accesos.crear && accesos.abierto"></li>
                    <li>
                      <a href="javascript:void(0);" ng-click="reporte( dato );"><span class="fa fa-archive" aria-hidden="true"></span> Reporte</a>
                    </li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        
      </div>

    </div>
  </div>
</div>
